<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HD Tickets Browser Compatibility Test Suite</title>
    <style>
        /* CSS Feature Detection Tests */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 20px;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .test-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e9ecef;
        }
        
        .flexbox-test {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #e7f3ff;
            padding: 10px;
            border-radius: 4px;
        }
        
        .css-grid-test {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 10px;
            background: #fff3e0;
            padding: 10px;
            border-radius: 4px;
        }
        
        /* Viewport units test */
        .viewport-test {
            height: 10vh;
            width: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        /* Transform test */
        .transform-test {
            transform: rotate(5deg) scale(0.9);
            transition: transform 0.3s ease;
            background: #ffebee;
            padding: 10px;
            border-radius: 4px;
        }
        
        .transform-test:hover {
            transform: rotate(0deg) scale(1);
        }
        
        /* Media query responsive test */
        .responsive-box {
            background: #e1f5fe;
            padding: 15px;
            border-radius: 4px;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .responsive-box {
                background: #f3e5f5;
            }
            .responsive-box::after {
                content: ' (Mobile View)';
                color: #7b1fa2;
            }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            .responsive-box {
                background: #fff3e0;
            }
            .responsive-box::after {
                content: ' (Tablet View)';
                color: #f57c00;
            }
        }
        
        @media (min-width: 1025px) {
            .responsive-box::after {
                content: ' (Desktop View)';
                color: #1976d2;
            }
        }
        
        .test-status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .pass { background: #c8e6c9; color: #2e7d32; }
        .fail { background: #ffcdd2; color: #c62828; }
        .partial { background: #fff3e0; color: #f57c00; }
        
        .feature-test-result {
            margin: 5px 0;
            padding: 5px;
            border-radius: 4px;
            background: #f5f5f5;
        }
        
        /* Touch-friendly buttons */
        .touch-button {
            min-height: 44px;
            min-width: 44px;
            padding: 12px 24px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            touch-action: manipulation;
            transition: background 0.3s ease;
        }
        
        .touch-button:hover {
            background: #1976D2;
        }
        
        .touch-button:active {
            background: #0D47A1;
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .container {
                border: 2px solid;
            }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ HD Tickets Browser Compatibility Test Suite</h1>
        <p><strong>Sports Events Entry Tickets Monitoring System</strong><br>
        Environment: Ubuntu 24.04 LTS, Apache2, PHP8.4, MySQL/MariaDB 10.4</p>
        
        <div id="browser-info" class="test-card" style="margin-bottom: 20px;">
            <h3>üåê Browser Information</h3>
            <div id="browser-details"></div>
        </div>
        
        <div class="test-grid">
            <div class="test-card">
                <h3>üí™ CSS Flexbox Support</h3>
                <div class="flexbox-test">
                    <span>Flex Item 1</span>
                    <span>Flex Item 2</span>
                </div>
                <div id="flexbox-result" class="feature-test-result"></div>
            </div>
            
            <div class="test-card">
                <h3>üèóÔ∏è CSS Grid Support</h3>
                <div class="css-grid-test">
                    <div>Grid Item 1</div>
                    <div>Grid Item 2 (wider)</div>
                </div>
                <div id="grid-result" class="feature-test-result"></div>
            </div>
            
            <div class="test-card">
                <h3>üìè Viewport Units</h3>
                <div class="viewport-test">
                    10vh height test
                </div>
                <div id="viewport-result" class="feature-test-result"></div>
            </div>
            
            <div class="test-card">
                <h3>üîÑ CSS Transforms</h3>
                <div class="transform-test">
                    Hover me for transform test
                </div>
                <div id="transform-result" class="feature-test-result"></div>
            </div>
        </div>
        
        <div class="test-card">
            <h3>üì± Responsive Design Test</h3>
            <div class="responsive-box">
                Resize browser to test responsive breakpoints
            </div>
            <div id="responsive-result" class="feature-test-result"></div>
        </div>
        
        <div class="test-card">
            <h3>üëÜ Touch Interface Test</h3>
            <button class="touch-button" onclick="testTouch(this)">Touch Test Button</button>
            <button class="touch-button" onclick="testTouch(this)">Another Button</button>
            <div id="touch-result" class="feature-test-result"></div>
        </div>
        
        <div class="test-card">
            <h3>üéØ Modern JavaScript Features</h3>
            <button class="touch-button" onclick="runJSTests()">Run JavaScript Tests</button>
            <div id="js-results"></div>
        </div>
        
        <div class="test-card">
            <h3>‚ôø Accessibility Features</h3>
            <div id="accessibility-results"></div>
        </div>
        
        <div id="overall-results" class="test-card" style="margin-top: 20px;">
            <h3>üìä Overall Compatibility Results</h3>
            <div id="compatibility-score"></div>
        </div>
    </div>

    <script>
        // Browser detection and feature testing
        let testResults = {};
        let totalTests = 0;
        let passedTests = 0;

        function updateTestResult(testName, passed, details = '') {
            testResults[testName] = { passed, details };
            totalTests++;
            if (passed) passedTests++;
        }

        function displayResult(elementId, testName, passed, details = '') {
            const element = document.getElementById(elementId);
            const status = passed ? 'pass' : 'fail';
            const statusText = passed ? '‚úÖ PASS' : '‚ùå FAIL';
            
            element.innerHTML = `<span class="test-status ${status}">${statusText}</span> ${details}`;
            updateTestResult(testName, passed, details);
        }

        // Browser information
        function detectBrowser() {
            const userAgent = navigator.userAgent;
            const browserInfo = {
                name: 'Unknown',
                version: 'Unknown',
                engine: 'Unknown'
            };

            // Chrome
            if (userAgent.indexOf('Chrome') > -1 && userAgent.indexOf('Edg') === -1) {
                browserInfo.name = 'Chrome';
                browserInfo.version = userAgent.match(/Chrome\/([0-9]+)/)[1];
                browserInfo.engine = 'Blink';
            }
            // Firefox
            else if (userAgent.indexOf('Firefox') > -1) {
                browserInfo.name = 'Firefox';
                browserInfo.version = userAgent.match(/Firefox\/([0-9]+)/)[1];
                browserInfo.engine = 'Gecko';
            }
            // Safari
            else if (userAgent.indexOf('Safari') > -1 && userAgent.indexOf('Chrome') === -1) {
                browserInfo.name = 'Safari';
                browserInfo.version = userAgent.match(/Version\/([0-9]+)/)?.[1] || 'Unknown';
                browserInfo.engine = 'WebKit';
            }
            // Edge
            else if (userAgent.indexOf('Edg') > -1) {
                browserInfo.name = 'Edge';
                browserInfo.version = userAgent.match(/Edg\/([0-9]+)/)[1];
                browserInfo.engine = 'Blink';
            }

            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);
            const screenSize = `${screen.width}x${screen.height}`;
            const viewportSize = `${window.innerWidth}x${window.innerHeight}`;

            document.getElementById('browser-details').innerHTML = `
                <strong>Browser:</strong> ${browserInfo.name} ${browserInfo.version}<br>
                <strong>Engine:</strong> ${browserInfo.engine}<br>
                <strong>Platform:</strong> ${navigator.platform}<br>
                <strong>Mobile:</strong> ${isMobile ? 'Yes' : 'No'}<br>
                <strong>Screen:</strong> ${screenSize}<br>
                <strong>Viewport:</strong> ${viewportSize}<br>
                <strong>User Agent:</strong> ${userAgent.substring(0, 100)}...
            `;

            return browserInfo;
        }

        // CSS Feature Tests
        function testCSSFeatures() {
            // Flexbox support
            const flexSupport = CSS.supports('display', 'flex');
            displayResult('flexbox-result', 'Flexbox', flexSupport, 
                flexSupport ? 'Full flexbox support detected' : 'Flexbox not supported');

            // Grid support
            const gridSupport = CSS.supports('display', 'grid');
            displayResult('grid-result', 'CSS Grid', gridSupport,
                gridSupport ? 'CSS Grid support detected' : 'CSS Grid not supported');

            // Viewport units
            const viewportSupport = CSS.supports('height', '100vh');
            displayResult('viewport-result', 'Viewport Units', viewportSupport,
                viewportSupport ? 'Viewport units (vh/vw) supported' : 'Viewport units not supported');

            // Transform support
            const transformSupport = CSS.supports('transform', 'rotate(45deg)');
            displayResult('transform-result', 'CSS Transforms', transformSupport,
                transformSupport ? 'CSS Transforms supported' : 'CSS Transforms not supported');

            // Responsive design (always pass if media queries work)
            const mediaQuerySupport = window.matchMedia('(min-width: 0px)').matches;
            displayResult('responsive-result', 'Media Queries', mediaQuerySupport,
                mediaQuerySupport ? 'Media queries working properly' : 'Media query support issues');
        }

        // Touch interface test
        function testTouch(button) {
            const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            const buttonRect = button.getBoundingClientRect();
            const isAccessibleSize = buttonRect.height >= 44 && buttonRect.width >= 44;
            
            button.style.background = '#4CAF50';
            button.textContent = 'Touch Detected!';
            
            displayResult('touch-result', 'Touch Interface', isAccessibleSize,
                `Touch device: ${isTouchDevice}, Button size: ${Math.round(buttonRect.width)}x${Math.round(buttonRect.height)}px`);
        }

        // JavaScript modern features test
        function runJSTests() {
            const results = [];
            
            // ES6 Arrow functions
            try {
                const arrowTest = () => true;
                results.push({ name: 'Arrow Functions', passed: arrowTest() });
            } catch (e) {
                results.push({ name: 'Arrow Functions', passed: false });
            }

            // ES6 Template literals
            try {
                const templateTest = `Template ${true}`;
                results.push({ name: 'Template Literals', passed: templateTest.includes('Template true') });
            } catch (e) {
                results.push({ name: 'Template Literals', passed: false });
            }

            // Promises
            const promiseSupport = typeof Promise !== 'undefined';
            results.push({ name: 'Promises', passed: promiseSupport });

            // Fetch API
            const fetchSupport = typeof fetch !== 'undefined';
            results.push({ name: 'Fetch API', passed: fetchSupport });

            // Local Storage
            const localStorageSupport = typeof localStorage !== 'undefined';
            results.push({ name: 'Local Storage', passed: localStorageSupport });

            // Geolocation
            const geolocationSupport = 'geolocation' in navigator;
            results.push({ name: 'Geolocation', passed: geolocationSupport });

            let jsResultsHtml = '<h4>JavaScript Feature Results:</h4>';
            results.forEach(result => {
                const status = result.passed ? '‚úÖ' : '‚ùå';
                const statusClass = result.passed ? 'pass' : 'fail';
                jsResultsHtml += `<div><span class="test-status ${statusClass}">${status}</span> ${result.name}</div>`;
                updateTestResult(`JS: ${result.name}`, result.passed);
            });

            document.getElementById('js-results').innerHTML = jsResultsHtml;
        }

        // Accessibility tests
        function testAccessibility() {
            const results = [];

            // High contrast media query
            const highContrastSupport = window.matchMedia('(prefers-contrast: high)').matches !== null;
            results.push({ name: 'High Contrast Support', passed: highContrastSupport });

            // Reduced motion
            const reducedMotionSupport = window.matchMedia('(prefers-reduced-motion: reduce)').matches !== null;
            results.push({ name: 'Reduced Motion Support', passed: reducedMotionSupport });

            // Screen reader support (basic check)
            const ariaSupport = document.createElement('div').setAttribute !== undefined;
            results.push({ name: 'ARIA Support', passed: ariaSupport });

            // Focus management
            const focusSupport = document.activeElement !== null;
            results.push({ name: 'Focus Management', passed: focusSupport });

            let accessibilityHtml = '<h4>Accessibility Features:</h4>';
            results.forEach(result => {
                const status = result.passed ? '‚úÖ' : '‚ùå';
                const statusClass = result.passed ? 'pass' : 'fail';
                accessibilityHtml += `<div><span class="test-status ${statusClass}">${status}</span> ${result.name}</div>`;
                updateTestResult(`A11y: ${result.name}`, result.passed);
            });

            document.getElementById('accessibility-results').innerHTML = accessibilityHtml;
        }

        // Calculate overall compatibility score
        function calculateCompatibilityScore() {
            const score = totalTests > 0 ? Math.round((passedTests / totalTests) * 100) : 0;
            let rating = '';
            let ratingClass = '';

            if (score >= 90) {
                rating = 'üèÜ EXCELLENT';
                ratingClass = 'pass';
            } else if (score >= 75) {
                rating = '‚úÖ GOOD';
                ratingClass = 'pass';
            } else if (score >= 60) {
                rating = '‚ö†Ô∏è FAIR';
                ratingClass = 'partial';
            } else {
                rating = '‚ùå NEEDS WORK';
                ratingClass = 'fail';
            }

            document.getElementById('compatibility-score').innerHTML = `
                <h4>Browser Compatibility Score: <span class="test-status ${ratingClass}">${score}%</span></h4>
                <p><strong>Rating:</strong> <span class="test-status ${ratingClass}">${rating}</span></p>
                <p><strong>Tests Passed:</strong> ${passedTests}/${totalTests}</p>
                <div style="margin-top: 10px;">
                    <strong>Recommendations:</strong><br>
                    ${score >= 90 ? 'Your browser has excellent compatibility with HD Tickets!' :
                      score >= 75 ? 'Your browser works well with HD Tickets. Minor features may be limited.' :
                      score >= 60 ? 'Your browser has basic compatibility. Consider updating for better experience.' :
                      'Your browser may have compatibility issues. Please update to a modern browser.'}
                </div>
            `;
        }

        // Run all tests when page loads
        window.addEventListener('load', function() {
            detectBrowser();
            testCSSFeatures();
            testAccessibility();
            
            // Run JS tests automatically after a brief delay
            setTimeout(() => {
                runJSTests();
                calculateCompatibilityScore();
            }, 1000);
        });

        // Update viewport info on resize
        window.addEventListener('resize', function() {
            const viewportSize = `${window.innerWidth}x${window.innerHeight}`;
            const browserDetails = document.getElementById('browser-details');
            const currentContent = browserDetails.innerHTML;
            browserDetails.innerHTML = currentContent.replace(/Viewport: \d+x\d+/, `Viewport: ${viewportSize}`);
        });
    </script>
</body>
</html>
