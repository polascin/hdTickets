<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HDTickets - Responsive Layout Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="resources/css/app.css">
    <style>
        /* Additional test styles */
        .device-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 1000;
        }
        
        .test-section {
            margin-bottom: 2rem;
            border: 1px dashed #e5e7eb;
            padding: 1rem;
        }
        
        .width-indicator {
            background: #f3f4f6;
            padding: 0.5rem;
            margin-bottom: 1rem;
            border-radius: 0.5rem;
            text-center;
            font-family: monospace;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Device width indicator -->
    <div class="device-indicator">
        <span id="width-display">Width: <span id="current-width"></span>px</span>
    </div>

    <!-- Main container with centered layout -->
    <div class="centered-container">
        <div class="content-wrapper">
            <!-- Width indicator -->
            <div class="width-indicator">
                <div id="container-width">Container Width: <span id="container-width-value"></span>px</div>
                <div id="screen-info">Screen: <span id="screen-width"></span>px Ã— <span id="screen-height"></span>px</div>
            </div>

            <!-- Hero Section Test -->
            <div class="test-section">
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-center hero-gradient bg-clip-text text-transparent mb-6">
                    HDTickets Responsive Test
                </h1>
                <p class="text-center text-gray-600 max-w-2xl mx-auto">
                    Testing responsive layout across mobile (320px, 375px, 414px), tablet (768px, 1024px), and desktop (1280px, 1440px, 1920px) breakpoints.
                </p>
            </div>

            <!-- Cards Grid Test -->
            <div class="test-section">
                <h2 class="text-2xl font-bold mb-4">Dashboard Cards Test</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                    <div class="dashboard-card">
                        <h3 class="font-semibold mb-2">Card 1</h3>
                        <p class="text-gray-600">Testing card layout on mobile devices.</p>
                    </div>
                    <div class="dashboard-card">
                        <h3 class="font-semibold mb-2">Card 2</h3>
                        <p class="text-gray-600">Ensuring proper spacing and no edge touching.</p>
                    </div>
                    <div class="dashboard-card">
                        <h3 class="font-semibold mb-2">Card 3</h3>
                        <p class="text-gray-600">Verifying responsive grid behavior.</p>
                    </div>
                    <div class="dashboard-card">
                        <h3 class="font-semibold mb-2">Card 4</h3>
                        <p class="text-gray-600">Testing overflow prevention.</p>
                    </div>
                </div>
            </div>

            <!-- Table Test -->
            <div class="test-section">
                <h2 class="text-2xl font-bold mb-4">Responsive Table Test</h2>
                <div class="table-responsive">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Event</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Venue</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Price</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">Football Match</td>
                                <td class="px-6 py-4 whitespace-nowrap">2024-01-15</td>
                                <td class="px-6 py-4 whitespace-nowrap">Stadium Arena</td>
                                <td class="px-6 py-4 whitespace-nowrap">$75.00</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="badge badge-success">Available</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <button class="btn-primary">Buy</button>
                                </td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">Concert Event</td>
                                <td class="px-6 py-4 whitespace-nowrap">2024-01-20</td>
                                <td class="px-6 py-4 whitespace-nowrap">Music Hall</td>
                                <td class="px-6 py-4 whitespace-nowrap">$120.00</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="badge badge-warning">Limited</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <button class="btn-primary">Buy</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Form Test -->
            <div class="test-section">
                <h2 class="text-2xl font-bold mb-4">Form Elements Test</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Event Name</label>
                        <input type="text" class="form-input" placeholder="Enter event name">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                        <select class="form-select">
                            <option>Sports</option>
                            <option>Music</option>
                            <option>Theater</option>
                        </select>
                    </div>
                </div>
                <div class="mt-4">
                    <button class="btn-primary mr-2">Submit</button>
                    <button class="btn-secondary">Cancel</button>
                </div>
            </div>

            <!-- Different Container Sizes Test -->
            <div class="test-section">
                <h2 class="text-2xl font-bold mb-4">Container Variants Test</h2>
                
                <div class="centered-container-sm bg-blue-50 p-4 mb-4 rounded">
                    <p class="text-center">.centered-container-sm (max-w-sm)</p>
                </div>
                
                <div class="centered-container-md bg-green-50 p-4 mb-4 rounded">
                    <p class="text-center">.centered-container-md (max-w-md)</p>
                </div>
                
                <div class="centered-container-lg bg-yellow-50 p-4 mb-4 rounded">
                    <p class="text-center">.centered-container-lg (max-w-lg)</p>
                </div>
                
                <div class="centered-container-xl bg-purple-50 p-4 mb-4 rounded">
                    <p class="text-center">.centered-container-xl (max-w-xl)</p>
                </div>
            </div>

            <!-- Edge Cases Test -->
            <div class="test-section">
                <h2 class="text-2xl font-bold mb-4">Edge Cases Test</h2>
                
                <!-- Long text that shouldn't cause horizontal scroll -->
                <div class="bg-white p-4 rounded-lg shadow mb-4">
                    <h3 class="font-semibold mb-2">Long Text Test</h3>
                    <p class="break-words">
                        This is a very long text content that should wrap properly and not cause horizontal scrolling even on the smallest mobile devices like iPhone SE (320px width). The text should break appropriately and maintain readability across all device sizes without causing any layout issues or horizontal overflow problems.
                    </p>
                </div>
                
                <!-- Wide image test -->
                <div class="bg-white p-4 rounded-lg shadow">
                    <h3 class="font-semibold mb-2">Image Responsiveness Test</h3>
                    <img src="https://via.placeholder.com/1200x300/3B82F6/FFFFFF?text=Wide+Image+Test" 
                         alt="Wide image test" 
                         class="w-full h-auto rounded">
                    <p class="text-sm text-gray-600 mt-2">
                        This wide image (1200px) should scale down properly on all devices.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Import responsive utilities if available
        let responsiveUtils = null;
        if (typeof window !== 'undefined' && window.responsiveUtils) {
            responsiveUtils = window.responsiveUtils;
        }
        
        // Real-time width display
        function updateWidthDisplay() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const container = document.querySelector('.centered-container');
            const containerWidth = container ? container.offsetWidth : 0;
            
            document.getElementById('current-width').textContent = width;
            document.getElementById('container-width-value').textContent = containerWidth;
            document.getElementById('screen-width').textContent = width;
            document.getElementById('screen-height').textContent = height;
            
            // Update device indicator
            const deviceIndicator = document.querySelector('.device-indicator');
            let deviceType = '';
            let breakpoint = '';
            
            if (responsiveUtils) {
                const viewport = responsiveUtils.getViewport();
                deviceType = viewport.isMobile ? 'Mobile' : 
                           viewport.isTablet ? 'Tablet' : 'Desktop';
                breakpoint = viewport.breakpoint;
            } else {
                if (width <= 414) {
                    deviceType = 'Mobile';
                    breakpoint = 'mobile';
                } else if (width <= 768) {
                    deviceType = 'Mobile-Large';
                    breakpoint = 'sm';
                } else if (width <= 1024) {
                    deviceType = 'Tablet';
                    breakpoint = 'md';
                } else {
                    deviceType = 'Desktop';
                    breakpoint = 'lg';
                }
            }
            
            // Update colors based on device type
            if (deviceType.includes('Mobile')) {
                deviceIndicator.style.background = 'rgba(239, 68, 68, 0.9)'; // red
            } else if (deviceType === 'Tablet') {
                deviceIndicator.style.background = 'rgba(245, 158, 11, 0.9)'; // amber
            } else {
                deviceIndicator.style.background = 'rgba(34, 197, 94, 0.9)'; // green
            }
            
            document.getElementById('width-display').innerHTML = 
                `${deviceType} (${breakpoint}) - Width: <span id="current-width">${width}</span>px`;
                
            // Test mobile utilities if available
            if (responsiveUtils) {
                testMobileFeatures();
            }
        }
        
        // Test mobile-specific features
        function testMobileFeatures() {
            if (!responsiveUtils) return;
            
            const viewport = responsiveUtils.getViewport();
            
            // Test touch support
            if (viewport.supportsTouch) {
                document.body.classList.add('touch-device');
                console.log('âœ“ Touch support detected');
            }
            
            // Test orientation
            console.log(`ðŸ“± Orientation: ${viewport.orientation}`);
            
            // Test device pixel ratio
            if (viewport.devicePixelRatio > 1) {
                console.log(`ðŸ“º High-DPI display detected: ${viewport.devicePixelRatio}x`);
            }
            
            // Auto-enable mobile optimizations
            if (viewport.isMobile && window.mobileUtils) {
                // Enable mobile table layouts
                window.mobileUtils.enableMobileTables();
                console.log('âœ“ Mobile table layouts enabled');
                
                // Test swipe gestures on test container
                const testContainer = document.querySelector('.test-section');
                if (testContainer) {
                    window.mobileUtils.enableSwipeGestures(testContainer, {
                        swipeLeft: () => console.log('ðŸ‘ˆ Swiped left on test container'),
                        swipeRight: () => console.log('ðŸ‘‰ Swiped right on test container'),
                        swipeUp: () => console.log('ðŸ‘† Swiped up on test container'),
                        swipeDown: () => console.log('ðŸ‘‡ Swiped down on test container')
                    });
                    console.log('âœ“ Swipe gestures enabled on test container');
                }
            }
        }
        
        // Update on load and resize
        updateWidthDisplay();
        window.addEventListener('resize', updateWidthDisplay);
        
        // Listen to responsive utility events
        if (typeof window !== 'undefined') {
            window.addEventListener('viewport:change', (e) => {
                console.log('ðŸ“± Viewport changed:', e.detail);
            });
            
            window.addEventListener('viewport:breakpoint', (e) => {
                console.log('ðŸ“ Breakpoint changed:', e.detail);
            });
        }
        
        // Check for horizontal scroll
        function checkHorizontalScroll() {
            const hasHorizontalScroll = document.body.scrollWidth > window.innerWidth;
            if (hasHorizontalScroll) {
                console.warn('âš ï¸ Horizontal scroll detected!', {
                    bodyWidth: document.body.scrollWidth,
                    windowWidth: window.innerWidth,
                    overflow: document.body.scrollWidth - window.innerWidth + 'px'
                });
                
                // Visual indicator
                const indicator = document.createElement('div');
                indicator.style.cssText = `
                    position: fixed;
                    bottom: 10px;
                    left: 10px;
                    background: rgba(239, 68, 68, 0.9);
                    color: white;
                    padding: 8px 12px;
                    border-radius: 4px;
                    font-size: 12px;
                    z-index: 1001;
                `;
                indicator.textContent = `âš ï¸ Horizontal overflow: ${document.body.scrollWidth - window.innerWidth}px`;
                document.body.appendChild(indicator);
                
                setTimeout(() => {
                    if (indicator.parentNode) {
                        indicator.parentNode.removeChild(indicator);
                    }
                }, 5000);
            }
        }
        
        // Performance testing
        function testPerformance() {
            const start = performance.now();
            
            // Simulate some DOM operations
            for (let i = 0; i < 100; i++) {
                const div = document.createElement('div');
                div.className = 'test-element';
                div.textContent = `Test element ${i}`;
                document.body.appendChild(div);
                document.body.removeChild(div);
            }
            
            const end = performance.now();
            console.log(`âš™ï¸ DOM Performance test: ${(end - start).toFixed(2)}ms`);
        }
        
        // Initialize tests
        window.addEventListener('load', () => {
            checkHorizontalScroll();
            testPerformance();
            
            // Add mobile-specific tests
            if (window.innerWidth <= 768) {
                console.log('ðŸ“± Mobile device detected, running mobile-specific tests...');
                
                // Test viewport meta tag
                const viewportMeta = document.querySelector('meta[name="viewport"]');
                if (viewportMeta) {
                    console.log('âœ“ Viewport meta tag found:', viewportMeta.getAttribute('content'));
                } else {
                    console.warn('âš ï¸ Viewport meta tag missing!');
                }
                
                // Test touch events
                if ('ontouchstart' in window) {
                    console.log('âœ“ Touch events supported');
                } else {
                    console.log('â„¹ï¸ Touch events not supported (desktop browser)');
                }
                
                // Test CSS custom properties support
                if (CSS.supports('color', 'var(--test)')) {
                    console.log('âœ“ CSS custom properties supported');
                } else {
                    console.warn('âš ï¸ CSS custom properties not supported');
                }
                
                // Test intersection observer (for lazy loading)
                if ('IntersectionObserver' in window) {
                    console.log('âœ“ Intersection Observer supported');
                } else {
                    console.warn('âš ï¸ Intersection Observer not supported');
                }
            }
        });
        
        window.addEventListener('resize', checkHorizontalScroll);
        
        // Add keyboard shortcut for quick testing
        document.addEventListener('keydown', (e) => {
            if (e.key === 'F9') {
                e.preventDefault();
                console.clear();
                console.log('ðŸ§ª Running comprehensive responsive tests...');
                updateWidthDisplay();
                checkHorizontalScroll();
                testPerformance();
            }
        });
        
        console.log('ðŸš€ Responsive test page loaded. Press F9 to run tests.');
    </script>
</body>
</html>
