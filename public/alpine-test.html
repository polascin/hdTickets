<!DOCTYPE html>
<html>
<head>
    <title>Alpine.js Dropdown Test</title>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        [x-cloak] { display: none !important; }
        body { font-family: Arial, sans-serif; margin: 20px; }
        .dropdown { position: relative; display: inline-block; }
        .dropdown-menu { 
            position: absolute; 
            top: 100%; 
            left: 0; 
            background: white; 
            border: 1px solid #ccc; 
            border-radius: 4px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
            min-width: 200px; 
            z-index: 1000; 
        }
        .dropdown-item { 
            padding: 8px 16px; 
            cursor: pointer; 
            border-bottom: 1px solid #eee; 
        }
        .dropdown-item:hover { background: #f5f5f5; }
        button { 
            background: #3b82f6; 
            color: white; 
            border: none; 
            padding: 8px 16px; 
            border-radius: 4px; 
            cursor: pointer; 
        }
        button:hover { background: #2563eb; }
    </style>
</head>
<body>
    <h1>Alpine.js Dropdown Test</h1>
    
    <p id="alpine-status">Checking Alpine.js...</p>
    
    <div x-data="{ open: false }" class="dropdown" @click.away="open = false">
        <button @click="open = !open" type="button">
            Test Dropdown 
            <i class="fas fa-chevron-down" :class="{'fa-chevron-up': open, 'fa-chevron-down': !open}"></i>
        </button>
        
        <div x-show="open" x-cloak x-transition class="dropdown-menu">
            <div class="dropdown-item">Option 1</div>
            <div class="dropdown-item">Option 2</div>
            <div class="dropdown-item">Option 3</div>
        </div>
        
        <p x-text="'Dropdown is: ' + (open ? 'OPEN' : 'CLOSED')"></p>
    </div>
    
    <script>
        // Check if Alpine is loaded
        document.addEventListener('alpine:init', () => {
            document.getElementById('alpine-status').textContent = '✅ Alpine.js loaded successfully!';
            document.getElementById('alpine-status').style.color = 'green';
        });
        
        // Fallback check
        setTimeout(() => {
            if (!window.Alpine) {
                document.getElementById('alpine-status').textContent = '❌ Alpine.js failed to load!';
                document.getElementById('alpine-status').style.color = 'red';
            }
        }, 2000);
    </script>
</body>
</html>
